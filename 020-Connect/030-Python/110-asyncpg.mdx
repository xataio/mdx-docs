---
title: Connect to Postgres with asyncpg
navTitle: asyncpg
keywords: ['python', 'postgres', 'asyncpg']
description: Connect to Postgres with asyncpg
slug: python-asyncpg
published: true
---

To connect to Xata with [asyncpg](https://magicstack.github.io/asyncpg/current/) you can use the following code.
Please replace the parameters as indicated on the [connect to Postgres](/docs/postgres) page.

```python
import asyncpg
import asyncio

async def get_server_version():
  connection = await asyncpg.connect(
    database="<DATABASE_NAME>:<BRANCH>",
    user="<WORKSPACE_ID>",
    password="<API_KEY>",
    host="<REGION>.sql.xata.sh",
    port=5432,
  )
  version = connection.get_server_version()
  print(version)
  await connection.close()

asyncio.run(get_server_version())

# Print: Postgres version is ServerVersion(major=15, minor=0, micro=1, releaselevel='final', serial=0)
```
